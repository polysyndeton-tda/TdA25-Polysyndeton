import{e as v,u as s}from"./DcSgunAn.js";import{l as _}from"./BK38orX7.js";import{i as d}from"./D_PpuvHk.js";function f(e,r,n){if(e.multiple)return m(e,r);for(var t of e.options){var u=a(t);if(d(u,r)){t.selected=!0;return}}(!n||r!==void 0)&&(e.selectedIndex=-1)}function c(e,r){let n=!0;v(()=>{r&&f(e,s(r),n),n=!1;var t=new MutationObserver(()=>{var u=e.__value;f(e,u)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function y(e,r,n=r){var t=!0;_(e,"change",u=>{var i=u?"[selected]":":checked",o;if(e.multiple)o=[].map.call(e.querySelectorAll(i),a);else{var l=e.querySelector(i)??e.querySelector("option:not([disabled])");o=l&&a(l)}n(o)}),v(()=>{var u=r();if(f(e,u,t),t&&u===void 0){var i=e.querySelector(":checked");i!==null&&(u=a(i),n(u))}e.__value=u,t=!1}),c(e)}function m(e,r){for(var n of e.options)n.selected=~r.indexOf(a(n))}function a(e){return"__value"in e?e.__value:e.value}export{y as b,c as i,f as s};
