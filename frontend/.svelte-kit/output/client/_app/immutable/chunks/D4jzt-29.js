import{t as i,a as o,b as wa,c as ya}from"./Ba07GB51.js";import{B as xa,y as ta,x as v,l as r,z as w,C as La,D as e,F as ea,G as s,A as m,H as Pa,I as Ra,e as Ua}from"./DcSgunAn.js";import{d as Aa,s as Ha}from"./BK38orX7.js";import{b as U,a as c,p as F}from"./D_PpuvHk.js";import{a as Ca}from"./Bycu4k-w.js";import{r as G}from"./DUR6UqLw.js";import{t as _,U as N}from"./Bk3tDF3f.js";import{b as O}from"./Dmh89Whc.js";import{b as Ea}from"./CxjwhJnB.js";import{f as sa,s as S,a as ra}from"./Ci0KcNdQ.js";import{A as Ia}from"./Dx8HbrOT.js";var Ja=i('<h2 class="svelte-jpppvm">Přihlásit se</h2>'),za=i('<h2 class="svelte-jpppvm">Registrovat</h2>'),Ba=i('<button aria-labelledby="Zavřít"><i class="fa-solid fa-xmark"></i></button>'),Da=i('<tr><td><label for="email" class="svelte-jpppvm">E-mail:</label></td><td><input id="email" type="email" class="svelte-jpppvm"></td></tr>'),Fa=i('<p class="svelte-jpppvm">Ještě nemáte účet? <a href="#" class="svelte-jpppvm">Registrovat</a></p>'),Ga=i('<p class="svelte-jpppvm">Již máte účet? <a href="#" class="svelte-jpppvm">Přihlásit</a></p>'),Na=i('<button class="ok">Přihlásit</button>'),Oa=i('<button class="ok">Registrovat</button>'),Sa=i('<div class="popup svelte-jpppvm"><form><div class="title svelte-jpppvm"><div class="top-bar svelte-jpppvm"><!> <!></div> <table class="svelte-jpppvm"><tbody><tr><td><label for="username" class="svelte-jpppvm">Uživatelské jméno:</label></td><td><input id="username" type="username" class="svelte-jpppvm"></td></tr><!><tr><td><label for="password" class="svelte-jpppvm">Heslo:</label></td><td><input id="password" type="password" class="svelte-jpppvm"></td></tr></tbody></table> <!></div> <div class="button-area svelte-jpppvm"><!></div></form></div>'),Za=i('<div class="popup-container svelte-jpppvm"><!></div>'),qa=i("<!> <!>",1);function et(la,j){xa(j,!0);const Z=(l,p=ea,L=ea)=>{var g=Sa(),M=e(g),E=e(M),I=e(E),Q=e(I);{var da=a=>{var t=Ja();_(1,t,()=>sa),o(a,t)},fa=a=>{var t=za();_(1,t,()=>sa),o(a,t)};c(Q,a=>{u()=="login"?a(da):a(fa,!1)})}var ca=v(Q,2);{var _a=a=>{var t=Ba();t.__click=C,o(a,t)};c(ca,a=>{p()&&a(_a)})}s(I);var J=v(I,2),T=e(J),z=e(T),V=v(e(z)),P=e(V);G(P),Ca(P,a=>k==null?void 0:k(a)),Ea(P,a=>y=a,()=>y),Ua(()=>O(P,()=>r(b),a=>m(b,a))),s(V),s(z);var W=v(z);{var ua=a=>{var t=Da(),f=v(e(t)),R=e(f);G(R),s(f),s(t),O(R,()=>r(A),B=>m(A,B)),_(1,t,()=>S),_(2,t,()=>ra),o(a,t)};c(W,a=>{u()=="register"&&a(ua)})}var X=v(W),Y=v(e(X)),$=e(Y);G($),s(Y),s(X),s(T),s(J);var ba=v(J,2);{var ga=a=>{var t=ya(),f=ta(t);{var R=h=>{var n=Fa(),D=v(e(n));D.__click=()=>{k(y),u("register")},s(n),_(3,n,()=>S),o(h,n)},B=h=>{var n=Ga(),D=v(e(n));D.__click=()=>{k(y),u("login")},s(n),_(3,n,()=>S),o(h,n)};c(f,h=>{u()=="login"?h(R):h(B,!1)})}o(a,t)};c(ba,a=>{L()&&a(ga)})}s(E);var aa=v(E,2),ha=e(aa);{var ja=a=>{var t=Na();t.__click=()=>{N.login(r(b),r(x)).catch(f=>{m(H,F(f)),m(d,!0)}).then(()=>{r(d)||C()}),N.name=r(b),localStorage.setItem("username",r(b))},o(a,t)},ka=a=>{var t=Oa();t.__click=()=>{N.signUp(r(b),r(A),r(x)).catch(f=>{m(d,!0),m(H,F(f))}).then(()=>{r(d)||C()})},o(a,t)};c(ha,a=>{u()=="login"?a(ja):a(ka,!1)})}s(aa),s(M),s(g),O($,()=>r(x),a=>m(x,a)),o(l,g)};let oa=U(j,"show",15),u=U(j,"mode",15,"login"),va=U(j,"floating",3,!0);U(j,"showRegisterLink",3,!0);let y;function k(l){l.select()}let A=w(""),b=w(""),x=w(""),d=w(!1),H=w("");function C(){oa(!1)}var q=qa(),K=ta(q);{var ia=l=>{var p=Za(),L=e(p);Z(L,()=>!0,()=>!0),s(p),_(7,p,()=>ra,()=>({duration:300})),o(l,p)},pa=l=>{Z(l,()=>!1,()=>!1)};c(K,l=>{va()?l(ia):l(pa,!1)})}var na=v(K,2);{var ma=l=>{Ia(l,{okCallback:()=>m(d,!1),get show(){return r(d)},set show(p){m(d,F(p))},children:(p,L)=>{Pa();var g=wa();Ra(()=>Ha(g,r(H))),o(p,g)},$$slots:{default:!0}})};c(na,l=>{r(d)&&l(ma)})}o(la,q),La()}Aa(["click"]);export{et as L};
